{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/daelankane/code/ed/ether/ideas-chain/client/components/Header.js\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Link from \"next/link\";\nimport { Center } from \"./Layout\";\nimport Nav from \"./Nav\";\n\nvar Logotype = function Logotype(props) {\n  return /*#__PURE__*/_jsxDEV(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n      width: \"100%\",\n      height: \"100%\",\n      fill: \"transparent\"\n    }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n      vectorEffect: \"non-scaling-stroke\",\n      x: \"-94.5\",\n      y: \"-20.5\",\n      rx: \"0\",\n      ry: \"0\",\n      width: \"189\",\n      height: \"41\",\n      fill: \"#fff\",\n      transform: \"translate(94.5 20.5)\"\n    }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(\"text\", {\n      fontFamily: \"Courgette\",\n      fontSize: \"69\",\n      fontWeight: \"700\",\n      fill: \"#5524c1\",\n      whiteSpace: \"pre\",\n      transform: \"matrix(.34 0 0 .35 109.97 20.5)\",\n      children: /*#__PURE__*/_jsxDEV(\"tspan\", {\n        x: \"-176.16\",\n        y: \"21.68\",\n        children: \"Ideas Chain\"\n      }, void 0, false, void 0, this)\n    }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      vectorEffect: \"non-scaling-stroke\",\n      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n        vectorEffect: \"non-scaling-stroke\",\n        d: \"M24.5 6.726c-7.613 0-13.774 6.161-13.774 13.774 0 7.594 6.16 13.774 13.774 13.774 7.595 0 13.774-6.18 13.774-13.774 0-7.613-6.18-13.774-13.774-13.774zm0 26.32c-6.943 0-12.545-5.622-12.545-12.546A12.527 12.527 0 0 1 24.5 7.955c6.924 0 12.545 5.602 12.545 12.545 0 6.924-5.62 12.545-12.545 12.545z\",\n        fill: \"#2a1baf\"\n      }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(\"path\", {\n        vectorEffect: \"non-scaling-stroke\",\n        d: \"M35.687 20.24c-.094.502-.466.632-1.117.372-.372-1.229-1.564-1.452-2.792-1.639.632-.54 1.6-1.042 2.103.187.689.204.986-.224 1.675.204.391.038.763.019 1.154.056-.595-5.416-1.303-3.239-4.412-4.3-1.266-1.581-1.563-.465-1.432 2.346-.763.242-1.75.93-.634 2.252-3.164 2.605-1.581 5.696 2.458 4.82v5.008c2.4-2.476 4.151-5.23 4.132-8.823-.149-.633-.52-.8-1.135-.484zM25.47 25.21l-.06-.078-.055-.092-.093-.074-.11-.056-.13-.074-.152-.055-.167-.056-.203-.037-.204-.037-.207-.04-.24-.019h-.374l-.13-.24-.092-.111-.074-.13-.092-.133-.097-.111-.092-.13-.093-.11-.11-.13-.112-.111-.11-.115-.115-.11-.13-.112-.13-.11-.129-.093-.13-.096-.133-.09-.148-.077-.148-.092-.148-.074-.151-.056-.167-.055-.166-.056-.17-.055-.185-.037-.167-.023-.185-.014-.207-.023h-.389l-.207.023-.203.037-.296.055-.337-.189-.259-.148-.244-.166-.24-.17-.226-.185-.222-.167-.204-.189-.189-.185-.185-.166-.148-.166-.148-.19-.133-.147-.13-.148-.092-.148-.074-.133-.037-.13-.037-.13.037-.166.111-.11.13-.056.148-.041.151-.019h.185l.204.019.207.04.24.056.263.074.26.111.277.13.318.148.296.188.207.13.037-.019.093-.11.074-.115.055-.167.019-.185.037-.203.018-.245.019-.24.055-.244.078-.24.13-.26.184-.225.24-.204.3-.189.393-.13.388-.073.185-.167.244-.203.26-.189.244-.166.259-.148.244-.152.222-.13.203-.13.19-.11.147-.111.13-.115.074-.074.037-.055V15.305l-.037-.037-.111-.055-.185-.093-.152-.11-.167-.13-.148-.133-.13-.148-.132-.148-.13-.148-.11-.17-.112-.167-.092-.167-.093-.166-.078-.17-.074-.167-.074-.166-.037-.17-.055-.167-.037-.148-.019-.148-.018-.152v-.148l.018-.148.019-.13.037-.114.055-.13.074-.092.093-.092.115-.074.13-.037h.147l.148.018.056.019.018-.019v-.018l-.055-.093-.093-.115-.11-.13-.149-.129-.189-.13-.185-.11-.203-.115-.226-.074-.203-.055-.204-.019-.188.019-.074.018-.056.148-.092.263-.074.24-.056.245-.055.24-.056.222-.037.226-.037.222-.018.225-.023.204-.018.203-.019.19-.018.184-.019.185v.167l-.018.17v.166l-.019.148v.152l-.018.13-.019.148-.018.11-.037.112-.037.11-.056.115-.055.093-.074.092-.093.074-.11.037-.115.037-.13.019-.185-.019-.429-.296-.351-.244-.282-.222-.24-.222-.207-.207-.167-.185-.11-.185-.093-.207-.037-.185-.019-.167.037-.189.056-.148.092-.148.093-.148.11-.133.13-.11.133-.13.13-.111.13-.13.129-.133.133-.13.13-.129.11-.148.111-.148.093-.17.074-.167.06-.185.036-.207.019-.203-.019-.24-.037-.264-.096.037-.148.093-.185.115-.189.11-.203.13-.24.148-.226.167-.26.188-.258.185-.263.204-.26.226-.28.24-.278.244-.281.26-.259.299-.281.296-.26.3-.258.333-.263.336-.222.37-.244.374-.204.389-.203.41-.189.41-.148.449-.148.444-.11.484-.112.485-.059.503-.037.466.056.148.096.167.13.166.129.17.13.167.17.167.166.148.185.17.207.148.204.148.203.148.222.152.226.129.222.148.244.13.24.129.222.133.245.13.24.13.222.129.244.13.222.132.226.13.222.11.204.13.207.134.185.13.185.129.17.13.148.129.148.133.244.277-.244.3-.093.13-.092.148-.074.129-.074.133-.04.13-.038.13-.037.129-.018.11v.244l.018.13.019.111.018.111.037.115.06.111.055.111.055.111.074.111.074.093.074.114.093.093.092.092.097.093.11.092.112.093.11.078.13.092.115.074.13.074.129.074.277.148-.074.318-.055.148-.037.148-.056.152-.055.148-.056.148-.074.148-.055.133-.074.148-.056.13-.077.13-.056.147-.074.133-.055.13-.056.13-.055.129-.056.148-.055.133-.037.13-.037.129-.037.13-.041.129-.018.152-.019.13-.018.129v.281l.018.148.019.148.037.152v.033l.096-.019h.203l.185.06.148.11.133.112.111.11.13.13.092.115.111.089.097.059.055.037h.111l.056-.056.11-.114.186-.26.207-.24.203-.263.204-.222.207-.244.222-.222.203-.203.226-.226.204-.203.225-.204.204-.189.203-.203.226-.185.185-.185.204-.17.207-.185.185-.185.166-.17.185-.186.17-.166.148-.17.148-.167.148-.185.134-.166.11-.17.112-.185.092-.167.074-.166.074-.19.06-.184.036-.167.019-.207.018-.13v-.11l-.037-.111z\",\n        fill: \"#2a1baf\"\n      }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(\"path\", {\n        vectorEffect: \"non-scaling-stroke\",\n        d: \"M21.578 9.593c2.774.055 1.657 4.616 3.444 4.56 1.098-1.731 5.435-2.122 4.373-4.82-2.586-.894-5.435-1.025-8.599-.522-.224.335.26.763.782.782z\",\n        fill: \"#2a1baf\"\n      }, void 0, false, void 0, this)]\n    }, void 0, true, void 0, this)]\n  }), void 0, true, void 0, this);\n};\n\nLogotype.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"189\",\n  height: \"41\",\n  viewBox: \"0 0 189 41\"\n};\nimport { getLoggedInUserId, getUserInfo } from \"../web3/users\";\nimport getWeb3 from '../web3/get-web3';\n\nvar Header = /*#__PURE__*/function (_React$Component) {\n  _inherits(Header, _React$Component);\n\n  var _super = _createSuper(Header);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Header, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var userId, web3, _userId, userInfo;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getLoggedInUserId();\n\n              case 2:\n                userId = _context.sent;\n                _context.prev = 3;\n                _context.next = 6;\n                return getWeb3();\n\n              case 6:\n                web3 = _context.sent;\n                _context.next = 9;\n                return getLoggedInUserId(web3);\n\n              case 9:\n                _userId = _context.sent;\n                _context.next = 12;\n                return getUserInfo(web3, _userId);\n\n              case 12:\n                userInfo = _context.sent;\n                console.log(\"Logged in as\", userInfo);\n                this.setState({\n                  loggedIn: true,\n                  userInfo: userInfo\n                });\n                _context.next = 20;\n                break;\n\n              case 17:\n                _context.prev = 17;\n                _context.t0 = _context[\"catch\"](3);\n                console.error(\"Couldn't find logged in user\", _context.t0);\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 17]]);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          loggedIn = _this$state.loggedIn,\n          userInfo = _this$state.userInfo;\n      return /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"jsx-1814845797\",\n        children: [/*#__PURE__*/_jsxDEV(Center, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"jsx-1814845797\" + \" \" + \"logotype\",\n              children: /*#__PURE__*/_jsxDEV(Logotype, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n          id: \"1814845797\",\n          children: \"header.jsx-1814845797{background-color:#FFFFFF;box-shadow:0 1px 3px 0 rgba(0,0,0,0.14);position:fixed;top:0;left:0;right:0;z-index:100;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RhZWxhbmthbmUvY29kZS9lZC9ldGhlci9pZGVhcy1jaGFpbi9jbGllbnQvY29tcG9uZW50cy9IZWFkZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMkNvQixBQUdzQyx5QkFDZSx3Q0FDekIsZUFDVCxNQUNDLE9BQ0MsUUFDSSxZQUNkIiwiZmlsZSI6Ii9ob21lL2RhZWxhbmthbmUvY29kZS9lZC9ldGhlci9pZGVhcy1jaGFpbi9jbGllbnQvY29tcG9uZW50cy9IZWFkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCJcbmltcG9ydCB7IENlbnRlciB9IGZyb20gXCIuL0xheW91dFwiXG5pbXBvcnQgTmF2IGZyb20gXCIuL05hdlwiXG5pbXBvcnQgTG9nb3R5cGUgZnJvbSBcIi4uL2ljb25zL2lkZWFzLWNoYWluLWxvZ28uc3ZnXCJcblxuaW1wb3J0IHsgZ2V0TG9nZ2VkSW5Vc2VySWQsIGdldFVzZXJJbmZvIH0gZnJvbSBcIi4uL3dlYjMvdXNlcnNcIlxuaW1wb3J0IGdldFdlYjMgZnJvbSAnLi4vd2ViMy9nZXQtd2ViMydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblxuICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB1c2VySWQgPSBhd2FpdCBnZXRMb2dnZWRJblVzZXJJZCgpIFxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHdlYjMgPSBhd2FpdCBnZXRXZWIzKClcbiAgICAgIGNvbnN0IHVzZXJJZCA9IGF3YWl0IGdldExvZ2dlZEluVXNlcklkKHdlYjMpXG4gICAgICBjb25zdCB1c2VySW5mbyA9IGF3YWl0IGdldFVzZXJJbmZvKHdlYjMsIHVzZXJJZClcbiAgICAgIGNvbnNvbGUubG9nKFwiTG9nZ2VkIGluIGFzXCIsIHVzZXJJbmZvKVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbG9nZ2VkSW46IHRydWUsXG4gICAgICAgIHVzZXJJbmZvLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBmaW5kIGxvZ2dlZCBpbiB1c2VyXCIsIGVycilcbiAgICB9XG5cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxvZ2dlZEluLCB1c2VySW5mbyB9ID0gdGhpcy5zdGF0ZVxuICAgIFxuICAgIHJldHVybiAoXG4gICAgICA8aGVhZGVyPlxuICAgICAgICA8Q2VudGVyPlxuICAgICAgICAgIDxMaW5rIGhyZWY9XCIvXCI+XG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJsb2dvdHlwZVwiPlxuICAgICAgICAgICAgICA8TG9nb3R5cGUgLz5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvQ2VudGVyPlxuXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICBoZWFkZXIge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDNweCAwIHJnYmEoMCwwLDAsMC4xNCk7XG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgICB6LWluZGV4OiAxMDA7XG4gICAgICAgICAgfVxuICAgICAgICBgfTwvc3R5bGU+XG4gICAgICA8L2hlYWRlcj5cbiAgICApXG4gIH1cbn0iXX0= */\\n/*@ sourceURL=/home/daelankane/code/ed/ether/ideas-chain/client/components/Header.js */\"\n        }, void 0, false, void 0, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Header;\n}(React.Component);\n\nexport { Header as default };","map":{"version":3,"sources":["/home/daelankane/code/ed/ether/ideas-chain/client/components/Header.js"],"names":["React","Link","Center","Nav","Logotype","getLoggedInUserId","getUserInfo","getWeb3","Header","userId","web3","userInfo","console","log","setState","loggedIn","error","state","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAOC,GAAP,MAAgB,OAAhB;;IACOC,Q,YAAAA,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,Q;;;;;;AAEP,SAASC,iBAAT,EAA4BC,WAA5B,QAA+C,eAA/C;AACA,OAAOC,OAAP,MAAoB,kBAApB;;IAEqBC,M;;;;;;;;;;;;;;;;;;;;;;uBAGIH,iBAAiB,E;;;AAAhCI,gBAAAA,M;;;uBAGeF,OAAO,E;;;AAApBG,gBAAAA,I;;uBACeL,iBAAiB,CAACK,IAAD,C;;;AAAhCD,gBAAAA,O;;uBACiBH,WAAW,CAACI,IAAD,EAAOD,OAAP,C;;;AAA5BE,gBAAAA,Q;AACNC,gBAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,QAA5B;AAEA,qBAAKG,QAAL,CAAc;AACZC,kBAAAA,QAAQ,EAAE,IADE;AAEZJ,kBAAAA,QAAQ,EAARA;AAFY,iBAAd;;;;;;;AAKAC,gBAAAA,OAAO,CAACI,KAAR,CAAc,8BAAd;;;;;;;;;;;;;;;;;;6BAKK;AAAA,wBACwB,KAAKC,KAD7B;AAAA,UACCF,QADD,eACCA,QADD;AAAA,UACWJ,QADX,eACWA,QADX;AAGP,0BACE;AAAA;AAAA,gCACE,QAAC,MAAD;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,IAAI,EAAC,GAAX;AAAA,mCACE;AAAA,kDAAa,UAAb;AAAA,qCACE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAuBD;;;;EA/CiCX,KAAK,CAACkB,S;;SAArBV,M","sourcesContent":["import React from 'react'\nimport Link from \"next/link\"\nimport { Center } from \"./Layout\"\nimport Nav from \"./Nav\"\nimport Logotype from \"../icons/ideas-chain-logo.svg\"\n\nimport { getLoggedInUserId, getUserInfo } from \"../web3/users\"\nimport getWeb3 from '../web3/get-web3'\n\nexport default class Header extends React.Component {\n\n  async componentDidMount() {\n    const userId = await getLoggedInUserId() \n\n    try {\n      const web3 = await getWeb3()\n      const userId = await getLoggedInUserId(web3)\n      const userInfo = await getUserInfo(web3, userId)\n      console.log(\"Logged in as\", userInfo)\n\n      this.setState({\n        loggedIn: true,\n        userInfo,\n      })\n    } catch (err) {\n      console.error(\"Couldn't find logged in user\", err)\n    }\n\n  }\n\n  render() {\n    const { loggedIn, userInfo } = this.state\n    \n    return (\n      <header>\n        <Center>\n          <Link href=\"/\">\n            <a className=\"logotype\">\n              <Logotype />\n            </a>\n          </Link>\n        </Center>\n\n        <style jsx>{`\n          header {\n            background-color: #FFFFFF;\n            box-shadow: 0 1px 3px 0 rgba(0,0,0,0.14);\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            z-index: 100;\n          }\n        `}</style>\n      </header>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}