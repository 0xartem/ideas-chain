{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/daelankane/code/ed/ether/ideas-chain/client/components/RegistrationForm.js\",\n    _this = this;\n\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Button from \"./Button\";\nimport { createUser } from \"../web3/users\";\nimport getWeb3 from '../web3/get-web3';\n\nvar Input = function Input(_ref) {\n  var title = _ref.title,\n      value = _ref.value,\n      onChange = _ref.onChange;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"jsx-2327390379\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"jsx-2327390379\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: value,\n      onChange: onChange,\n      className: \"jsx-2327390379\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"2327390379\",\n      children: \"div.jsx-2327390379{border-bottom:1px solid rgba(0,0,0,0.13);margin:0 -14px;padding:0 14px;}div.jsx-2327390379:first-of-type{border-top:1px solid rgba(0,0,0,0.13);}label.jsx-2327390379{font-size:13px;color:rgba(81,81,112,0.66);text-transform:uppercase;display:block;margin-top:8px;}input.jsx-2327390379{width:100%;box-sizing:border-box;font-size:17px;padding-top:8px;padding-bottom:13px;border:none;}input.jsx-2327390379:focus{border:none;outline:none;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RhZWxhbmthbmUvY29kZS9lZC9ldGhlci9pZGVhcy1jaGFpbi9jbGllbnQvY29tcG9uZW50cy9SZWdpc3RyYXRpb25Gb3JtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNnQixBQUdrRCxBQUtILEFBR3ZCLEFBT0osQUFRQyxXQVBVLENBUVQsR0FmYyxVQWdCN0IsUUFSaUIsS0FYakIsR0FMaUIsQ0FTVSxNQVFULFFBaEJELFFBaUJLLEdBUk4sSUFSaEIsVUFTaUIsR0FRSCxZQVBkLEFBUUEiLCJmaWxlIjoiL2hvbWUvZGFlbGFua2FuZS9jb2RlL2VkL2V0aGVyL2lkZWFzLWNoYWluL2NsaWVudC9jb21wb25lbnRzL1JlZ2lzdHJhdGlvbkZvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuL0J1dHRvblwiXG5cbmltcG9ydCB7IGNyZWF0ZVVzZXIgfSBmcm9tIFwiLi4vd2ViMy91c2Vyc1wiXG5pbXBvcnQgZ2V0V2ViMyBmcm9tICcuLi93ZWIzL2dldC13ZWIzJ1xuXG5jb25zdCBJbnB1dCA9ICh7IHRpdGxlLCB2YWx1ZSwgb25DaGFuZ2UgfSkgPT4gKFxuICA8ZGl2PlxuICAgIDxsYWJlbD5cbiAgICAgIHt0aXRsZX1cbiAgICA8L2xhYmVsPlxuXG4gICAgPGlucHV0IHZhbHVlPXt2YWx1ZX0gb25DaGFuZ2U9e29uQ2hhbmdlfSAvPlxuXG4gICAgPHN0eWxlIGpzeD57YFxuICAgICAgZGl2IHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwwLDAsMC4xMyk7XG4gICAgICAgIG1hcmdpbjogMCAtMTRweDtcbiAgICAgICAgcGFkZGluZzogMCAxNHB4O1xuICAgICAgfVxuICAgICAgZGl2OmZpcnN0LW9mLXR5cGUge1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjEzKTtcbiAgICAgIH1cbiAgICAgIGxhYmVsIHtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICBjb2xvcjogcmdiYSg4MSw4MSwxMTIsMC42Nik7XG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICB9XG4gICAgICBpbnB1dCB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBmb250LXNpemU6IDE3cHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiA4cHg7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAxM3B4O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG4gICAgICBpbnB1dDpmb2N1cyB7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIH1cbiAgICBgfTwvc3R5bGU+XG4gIDwvZGl2PlxuKVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWdpc3RyYXRpb25Gb3JtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGUgPSB7XG4gICAgZmlyc3ROYW1lOiBcIlwiLFxuICAgIGxhc3ROYW1lOiBcIlwiLFxuICAgIHVzZXJuYW1lOiBcIlwiLFxuICAgIGdyYXZhdGFyRW1haWw6IFwiXCIsXG4gICAgYmlvOiBcIlwiLFxuICB9XG5cbiAgdXBkYXRlRmllbGQgPSAoZmllbGROYW1lLCBlKSA9PiB7XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7fVxuICAgIG5ld1N0YXRlW2ZpZWxkTmFtZV0gPSBlLnRhcmdldC52YWx1ZVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSlcbiAgfVxuXG4gIGNyZWF0ZVVzZXIgPSBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgLy8gU29tZSBxdWljayB2YWxpZGF0aW9uIGNoZWNrc1xuICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnN0YXRlKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGVba2V5XSkge1xuICAgICAgICByZXR1cm4gYWxlcnQoYFlvdSBtdXN0IGZpbGwgaW4geW91ciAke2tleX0hYClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlKVxuICAgIGNvbnN0IHsgZmlyc3ROYW1lLCBsYXN0TmFtZSwgdXNlcm5hbWUsIGJpbywgZ3JhdmF0YXJFbWFpbCB9ID0gdGhpcy5zdGF0ZVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIE9wZW4gdGhlIE1ldGFNYXNrIG1vZGFsOlxuICAgICAgY29uc3Qgd2ViMyA9IGF3YWl0IGdldFdlYjMoKVxuICAgICAgY29uc3QgYWRkcnMgPSBhd2FpdCB3ZWIzLmV0aC5nZXRBY2NvdW50cygpXG4gICAgICBjb25zb2xlLmxvZygpXG4gICAgICBhd2FpdCBjcmVhdGVVc2VyKHdlYjMsIHVzZXJuYW1lLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBiaW8sIGdyYXZhdGFyRW1haWwpXG5cbiAgICAgIGFsZXJ0KFwiWW91ciB1c2VyIGhhcyBiZWVuIGNyZWF0ZWQhXCIpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhbGVydChgU29ycnksIHdlIGNvdWxkbid0IGNyZWF0ZSB5b3VyIHVzZXI6ICR7ZXJyfWApXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgb25DbG9zZSB9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmNyZWF0ZVVzZXJ9PlxuICAgICAgICA8aDM+XG4gICAgICAgICAgQ3JlYXRlIHlvdXIgYWNjb3VudFxuICAgICAgICA8L2gzPlxuXG4gICAgICAgIDxJbnB1dCBcbiAgICAgICAgICB0aXRsZT1cIkZpcnN0IG5hbWVcIiBcbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUZpZWxkKFwiZmlyc3ROYW1lXCIsIGUpfSBcbiAgICAgICAgLz5cblxuICAgICAgICA8SW5wdXQgXG4gICAgICAgICAgdGl0bGU9XCJMYXN0IG5hbWVcIiBcbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUZpZWxkKFwibGFzdE5hbWVcIiwgZSl9IFxuICAgICAgICAvPlxuXG4gICAgICAgIDxJbnB1dCBcbiAgICAgICAgICB0aXRsZT1cIkRlc2lyZWQgdXNlcm5hbWVcIiBcbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUZpZWxkKFwidXNlcm5hbWVcIiwgZSl9IFxuICAgICAgICAvPlxuXG4gICAgICAgIDxJbnB1dCBcbiAgICAgICAgICB0aXRsZT1cIkdyYXZhdGFyIGVtYWlsXCIgXG4gICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy51cGRhdGVGaWVsZChcImdyYXZhdGFyRW1haWxcIiwgZSl9IFxuICAgICAgICAvPlxuXG4gICAgICAgIDxJbnB1dCBcbiAgICAgICAgICB0aXRsZT1cIkJpb1wiIFxuICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMudXBkYXRlRmllbGQoXCJiaW9cIiwgZSl9IFxuICAgICAgICAvPlxuXG4gICAgICAgIDxmb290ZXI+XG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNyZWF0ZVVzZXJ9PlxuICAgICAgICAgICAgQ3JlYXRlXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZm9vdGVyPlxuXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICBoMyB7XG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9vdGVyIHtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IDE2cHg7XG4gICAgICAgICAgfVxuICAgICAgICBgfTwvc3R5bGU+XG4gICAgICA8L2Zvcm0+XG4gICAgKVxuICB9XG59Il19 */\\n/*@ sourceURL=/home/daelankane/code/ed/ether/ideas-chain/client/components/RegistrationForm.js */\"\n    }, void 0, false, void 0, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 3\n  }, _this);\n};\n\nvar RegistrationForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(RegistrationForm, _React$Component);\n\n  var _super = _createSuper(RegistrationForm);\n\n  function RegistrationForm() {\n    var _this2;\n\n    _classCallCheck(this, RegistrationForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this2), \"state\", {\n      firstName: \"\",\n      lastName: \"\",\n      username: \"\",\n      gravatarEmail: \"\",\n      bio: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"updateField\", function (fieldName, e) {\n      var newState = {};\n      newState[fieldName] = e.target.value;\n\n      _this2.setState(newState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"createUser\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        var key, _this2$state, firstName, lastName, username, bio, gravatarEmail, web3, addrs;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault(); // Some quick validation checks\n\n                _context.t0 = _regeneratorRuntime.keys(_this2.state);\n\n              case 2:\n                if ((_context.t1 = _context.t0()).done) {\n                  _context.next = 8;\n                  break;\n                }\n\n                key = _context.t1.value;\n\n                if (_this2.state[key]) {\n                  _context.next = 6;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", alert(\"You must fill in your \".concat(key, \"!\")));\n\n              case 6:\n                _context.next = 2;\n                break;\n\n              case 8:\n                console.log(_this2.state);\n                _this2$state = _this2.state, firstName = _this2$state.firstName, lastName = _this2$state.lastName, username = _this2$state.username, bio = _this2$state.bio, gravatarEmail = _this2$state.gravatarEmail;\n                _context.prev = 10;\n                _context.next = 13;\n                return getWeb3();\n\n              case 13:\n                web3 = _context.sent;\n                _context.next = 16;\n                return web3.eth.getAccounts();\n\n              case 16:\n                addrs = _context.sent;\n                console.log();\n                _context.next = 20;\n                return createUser(web3, username, firstName, lastName, bio, gravatarEmail);\n\n              case 20:\n                alert(\"Your user has been created!\");\n                _context.next = 26;\n                break;\n\n              case 23:\n                _context.prev = 23;\n                _context.t2 = _context[\"catch\"](10);\n                alert(\"Sorry, we couldn't create your user: \".concat(_context.t2));\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[10, 23]]);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    return _this2;\n  }\n\n  _createClass(RegistrationForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var onClose = this.props.onClose;\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.createUser,\n        className: \"jsx-2248222428\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"jsx-2248222428\",\n          children: \"Create your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          title: \"First name\",\n          onChange: function onChange(e) {\n            return _this3.updateField(\"firstName\", e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          title: \"Last name\",\n          onChange: function onChange(e) {\n            return _this3.updateField(\"lastName\", e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          title: \"Desired username\",\n          onChange: function onChange(e) {\n            return _this3.updateField(\"username\", e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          title: \"Gravatar email\",\n          onChange: function onChange(e) {\n            return _this3.updateField(\"gravatarEmail\", e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          title: \"Bio\",\n          onChange: function onChange(e) {\n            return _this3.updateField(\"bio\", e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          className: \"jsx-2248222428\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.createUser,\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n          id: \"2248222428\",\n          children: \"h3.jsx-2248222428{padding-bottom:10px;}footer.jsx-2248222428{text-align:right;padding-top:16px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RhZWxhbmthbmUvY29kZS9lZC9ldGhlci9pZGVhcy1jaGFpbi9jbGllbnQvY29tcG9uZW50cy9SZWdpc3RyYXRpb25Gb3JtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdJb0IsQUFHaUMsQUFHSCxpQkFDQSxHQUhuQixjQUlBIiwiZmlsZSI6Ii9ob21lL2RhZWxhbmthbmUvY29kZS9lZC9ldGhlci9pZGVhcy1jaGFpbi9jbGllbnQvY29tcG9uZW50cy9SZWdpc3RyYXRpb25Gb3JtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi9CdXR0b25cIlxuXG5pbXBvcnQgeyBjcmVhdGVVc2VyIH0gZnJvbSBcIi4uL3dlYjMvdXNlcnNcIlxuaW1wb3J0IGdldFdlYjMgZnJvbSAnLi4vd2ViMy9nZXQtd2ViMydcblxuY29uc3QgSW5wdXQgPSAoeyB0aXRsZSwgdmFsdWUsIG9uQ2hhbmdlIH0pID0+IChcbiAgPGRpdj5cbiAgICA8bGFiZWw+XG4gICAgICB7dGl0bGV9XG4gICAgPC9sYWJlbD5cblxuICAgIDxpbnB1dCB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz5cblxuICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgIGRpdiB7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMTMpO1xuICAgICAgICBtYXJnaW46IDAgLTE0cHg7XG4gICAgICAgIHBhZGRpbmc6IDAgMTRweDtcbiAgICAgIH1cbiAgICAgIGRpdjpmaXJzdC1vZi10eXBlIHtcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMCwwLDAsMC4xMyk7XG4gICAgICB9XG4gICAgICBsYWJlbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgY29sb3I6IHJnYmEoODEsODEsMTEyLDAuNjYpO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgfVxuICAgICAgaW5wdXQge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgZm9udC1zaXplOiAxN3B4O1xuICAgICAgICBwYWRkaW5nLXRvcDogOHB4O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTNweDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgfVxuICAgICAgaW5wdXQ6Zm9jdXMge1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG4gICAgYH08L3N0eWxlPlxuICA8L2Rpdj5cbilcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVnaXN0cmF0aW9uRm9ybSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRlID0ge1xuICAgIGZpcnN0TmFtZTogXCJcIixcbiAgICBsYXN0TmFtZTogXCJcIixcbiAgICB1c2VybmFtZTogXCJcIixcbiAgICBncmF2YXRhckVtYWlsOiBcIlwiLFxuICAgIGJpbzogXCJcIixcbiAgfVxuXG4gIHVwZGF0ZUZpZWxkID0gKGZpZWxkTmFtZSwgZSkgPT4ge1xuICAgIGNvbnN0IG5ld1N0YXRlID0ge31cbiAgICBuZXdTdGF0ZVtmaWVsZE5hbWVdID0gZS50YXJnZXQudmFsdWVcblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpXG4gIH1cblxuICBjcmVhdGVVc2VyID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIC8vIFNvbWUgcXVpY2sgdmFsaWRhdGlvbiBjaGVja3NcbiAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5zdGF0ZSkge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlW2tleV0pIHtcbiAgICAgICAgcmV0dXJuIGFsZXJ0KGBZb3UgbXVzdCBmaWxsIGluIHlvdXIgJHtrZXl9IWApXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZSlcbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIHVzZXJuYW1lLCBiaW8sIGdyYXZhdGFyRW1haWwgfSA9IHRoaXMuc3RhdGVcblxuICAgIHRyeSB7XG4gICAgICAvLyBPcGVuIHRoZSBNZXRhTWFzayBtb2RhbDpcbiAgICAgIGNvbnN0IHdlYjMgPSBhd2FpdCBnZXRXZWIzKClcbiAgICAgIGNvbnN0IGFkZHJzID0gYXdhaXQgd2ViMy5ldGguZ2V0QWNjb3VudHMoKVxuICAgICAgY29uc29sZS5sb2coKVxuICAgICAgYXdhaXQgY3JlYXRlVXNlcih3ZWIzLCB1c2VybmFtZSwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgYmlvLCBncmF2YXRhckVtYWlsKVxuXG4gICAgICBhbGVydChcIllvdXIgdXNlciBoYXMgYmVlbiBjcmVhdGVkIVwiKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYWxlcnQoYFNvcnJ5LCB3ZSBjb3VsZG4ndCBjcmVhdGUgeW91ciB1c2VyOiAke2Vycn1gKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG9uQ2xvc2UgfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5jcmVhdGVVc2VyfT5cbiAgICAgICAgPGgzPlxuICAgICAgICAgIENyZWF0ZSB5b3VyIGFjY291bnRcbiAgICAgICAgPC9oMz5cblxuICAgICAgICA8SW5wdXQgXG4gICAgICAgICAgdGl0bGU9XCJGaXJzdCBuYW1lXCIgXG4gICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy51cGRhdGVGaWVsZChcImZpcnN0TmFtZVwiLCBlKX0gXG4gICAgICAgIC8+XG5cbiAgICAgICAgPElucHV0IFxuICAgICAgICAgIHRpdGxlPVwiTGFzdCBuYW1lXCIgXG4gICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy51cGRhdGVGaWVsZChcImxhc3ROYW1lXCIsIGUpfSBcbiAgICAgICAgLz5cblxuICAgICAgICA8SW5wdXQgXG4gICAgICAgICAgdGl0bGU9XCJEZXNpcmVkIHVzZXJuYW1lXCIgXG4gICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy51cGRhdGVGaWVsZChcInVzZXJuYW1lXCIsIGUpfSBcbiAgICAgICAgLz5cblxuICAgICAgICA8SW5wdXQgXG4gICAgICAgICAgdGl0bGU9XCJHcmF2YXRhciBlbWFpbFwiIFxuICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMudXBkYXRlRmllbGQoXCJncmF2YXRhckVtYWlsXCIsIGUpfSBcbiAgICAgICAgLz5cblxuICAgICAgICA8SW5wdXQgXG4gICAgICAgICAgdGl0bGU9XCJCaW9cIiBcbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUZpZWxkKFwiYmlvXCIsIGUpfSBcbiAgICAgICAgLz5cblxuICAgICAgICA8Zm9vdGVyPlxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jcmVhdGVVc2VyfT5cbiAgICAgICAgICAgIENyZWF0ZVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Zvb3Rlcj5cblxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgaDMge1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvb3RlciB7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAxNnB4O1xuICAgICAgICAgIH1cbiAgICAgICAgYH08L3N0eWxlPlxuICAgICAgPC9mb3JtPlxuICAgIClcbiAgfVxufSJdfQ== */\\n/*@ sourceURL=/home/daelankane/code/ed/ether/ideas-chain/client/components/RegistrationForm.js */\"\n        }, void 0, false, void 0, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return RegistrationForm;\n}(React.Component);\n\nexport { RegistrationForm as default };","map":{"version":3,"sources":["/home/daelankane/code/ed/ether/ideas-chain/client/components/RegistrationForm.js"],"names":["React","Button","createUser","getWeb3","Input","title","value","onChange","RegistrationForm","firstName","lastName","username","gravatarEmail","bio","fieldName","e","newState","target","setState","preventDefault","state","key","alert","console","log","web3","eth","getAccounts","addrs","onClose","props","updateField","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Button from \"./Button\"\n\nimport { createUser } from \"../web3/users\"\nimport getWeb3 from '../web3/get-web3'\n\nconst Input = ({ title, value, onChange }) => (\n  <div>\n    <label>\n      {title}\n    </label>\n\n    <input value={value} onChange={onChange} />\n\n    <style jsx>{`\n      div {\n        border-bottom: 1px solid rgba(0,0,0,0.13);\n        margin: 0 -14px;\n        padding: 0 14px;\n      }\n      div:first-of-type {\n        border-top: 1px solid rgba(0,0,0,0.13);\n      }\n      label {\n        font-size: 13px;\n        color: rgba(81,81,112,0.66);\n        text-transform: uppercase;\n        display: block;\n        margin-top: 8px;\n      }\n      input {\n        width: 100%;\n        box-sizing: border-box;\n        font-size: 17px;\n        padding-top: 8px;\n        padding-bottom: 13px;\n        border: none;\n      }\n      input:focus {\n        border: none;\n        outline: none;\n      }\n    `}</style>\n  </div>\n)\n\nexport default class RegistrationForm extends React.Component {\n  state = {\n    firstName: \"\",\n    lastName: \"\",\n    username: \"\",\n    gravatarEmail: \"\",\n    bio: \"\",\n  }\n\n  updateField = (fieldName, e) => {\n    const newState = {}\n    newState[fieldName] = e.target.value\n\n    this.setState(newState)\n  }\n\n  createUser = async (e) => {\n    e.preventDefault()\n\n    // Some quick validation checks\n    for (let key in this.state) {\n      if (!this.state[key]) {\n        return alert(`You must fill in your ${key}!`)\n      }\n    }\n\n    console.log(this.state)\n    const { firstName, lastName, username, bio, gravatarEmail } = this.state\n\n    try {\n      // Open the MetaMask modal:\n      const web3 = await getWeb3()\n      const addrs = await web3.eth.getAccounts()\n      console.log()\n      await createUser(web3, username, firstName, lastName, bio, gravatarEmail)\n\n      alert(\"Your user has been created!\")\n    } catch (err) {\n      alert(`Sorry, we couldn't create your user: ${err}`)\n    }\n  }\n\n  render() {\n    const { onClose } = this.props\n\n    return (\n      <form onSubmit={this.createUser}>\n        <h3>\n          Create your account\n        </h3>\n\n        <Input \n          title=\"First name\" \n          onChange={e => this.updateField(\"firstName\", e)} \n        />\n\n        <Input \n          title=\"Last name\" \n          onChange={e => this.updateField(\"lastName\", e)} \n        />\n\n        <Input \n          title=\"Desired username\" \n          onChange={e => this.updateField(\"username\", e)} \n        />\n\n        <Input \n          title=\"Gravatar email\" \n          onChange={e => this.updateField(\"gravatarEmail\", e)} \n        />\n\n        <Input \n          title=\"Bio\" \n          onChange={e => this.updateField(\"bio\", e)} \n        />\n\n        <footer>\n          <Button onClick={this.createUser}>\n            Create\n          </Button>\n        </footer>\n\n        <style jsx>{`\n          h3 {\n            padding-bottom: 10px;\n          }\n          footer {\n            text-align: right;\n            padding-top: 16px;\n          }\n        `}</style>\n      </form>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}